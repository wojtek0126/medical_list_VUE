(function(t){function e(e){for(var c,a,l=e[0],u=e[1],o=e[2],s=0,b=[];s<l.length;s++)a=l[s],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&b.push(i[a][0]),i[a]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(t[c]=u[c]);d&&d(e);while(b.length)b.shift()();return r.push.apply(r,o||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],c=!0,l=1;l<n.length;l++){var u=n[l];0!==i[u]&&(c=!1)}c&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var c={},i={app:0},r=[];function a(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=c,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)a.d(n,c,function(e){return t[e]}.bind(null,c));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/medical_list_VUE/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0123":function(t,e,n){"use strict";n("9241")},"0254":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function i(t,e,n,i,r,a){var l=Object(c["k"])("MedicalList");return Object(c["g"])(),Object(c["c"])("div",null,[Object(c["e"])(l)])}n("b0c0");var r=function(t){return Object(c["i"])("data-v-30a3efe5"),t=t(),Object(c["h"])(),t},a={class:"main-container"},l=r((function(){return Object(c["d"])("h1",null,"List of patients and their medicine",-1)})),u=r((function(){return Object(c["d"])("ul",null,[Object(c["d"])("li",null,"All PATIENTS button shows data of all patients and all of their medicine."),Object(c["d"])("li",null,"FILTER 1 button shows all patients older than 30 and all of their medicine."),Object(c["d"])("li",null,"FILTER 2 button shows all patients older than 63 and their medicals with strength bigger than 8.")],-1)})),o={class:"button-container"},d={class:"table-container"},s={class:"table-patient"},b=["patient"],f={class:"patient-details__head"},p={class:"patient-details__container"},j=r((function(){return Object(c["d"])("th",null,"Name ",-1)})),O=r((function(){return Object(c["d"])("th",null,"Address ",-1)})),h=r((function(){return Object(c["d"])("th",null,"Phone ",-1)})),m=r((function(){return Object(c["d"])("th",null,"Age ",-1)})),v=r((function(){return Object(c["d"])("th",null,"Gender ",-1)})),g={class:"medicine-head",ref:"setItemRef"},y=r((function(){return Object(c["d"])("th",{class:"medicine-row"},"Med name",-1)})),w=r((function(){return Object(c["d"])("th",{class:"medicine-row"},"Unit",-1)})),F=r((function(){return Object(c["d"])("th",{class:"medicine-row"},"Strength",-1)})),M=r((function(){return Object(c["d"])("th",{class:"medicine-row"},"Form",-1)})),_=r((function(){return Object(c["d"])("th",{class:"medicine-row"},"Expiry",-1)})),x=[y,w,F,M,_],A=["patient"];function N(t,e,n,i,r,y){return Object(c["g"])(),Object(c["c"])("div",a,[l,u,Object(c["d"])("div",o,[Object(c["d"])("button",{onClick:e[0]||(e[0]=function(t){return r.patientFilterKey="all"}),class:Object(c["f"])([{active:"all"==r.patientFilterKey},"button"])},"All patients",2),Object(c["d"])("button",{onClick:e[1]||(e[1]=function(t){return r.patientFilterKey="age"}),class:Object(c["f"])([{active:"age"==r.patientFilterKey},"button"])},"Filter 1",2),Object(c["d"])("button",{onClick:e[2]||(e[2]=function(t){return r.patientFilterKey="ageStr"}),class:Object(c["f"])([{active:"ageStr"==r.patientFilterKey},"button"])},"Filter 2",2)]),Object(c["d"])("div",d,[Object(c["d"])("div",s,[(Object(c["g"])(!0),Object(c["c"])(c["a"],null,Object(c["j"])(y.patientFilter,(function(t,e){return Object(c["g"])(),Object(c["c"])("div",{key:t,patient:t,class:"patient-data"},[Object(c["d"])("div",f,"Patient number "+Object(c["l"])(e+1),1),Object(c["d"])("table",p,[Object(c["d"])("tr",null,[j,Object(c["d"])("td",null,Object(c["l"])(t.name)+" "+Object(c["l"])(t.lastName),1)]),Object(c["d"])("tr",null,[O,Object(c["d"])("td",null,Object(c["l"])(t.adress),1)]),Object(c["d"])("tr",null,[h,Object(c["d"])("td",null,Object(c["l"])(t.phoneNumber),1)]),Object(c["d"])("tr",null,[m,Object(c["d"])("td",null,Object(c["l"])(t.age),1)]),Object(c["d"])("tr",null,[v,Object(c["d"])("td",null,Object(c["l"])(t.gender),1)])]),Object(c["d"])("table",null,[Object(c["d"])("tr",g,x,512),(Object(c["g"])(!0),Object(c["c"])(c["a"],null,Object(c["j"])(t.medicine,(function(t){return Object(c["g"])(),Object(c["c"])("tr",{key:t,patient:t},[Object(c["d"])("td",null,Object(c["l"])(t.medicationName),1),Object(c["d"])("td",null,Object(c["l"])(t.unit),1),Object(c["d"])("td",null,Object(c["l"])(t.strength),1),Object(c["d"])("td",null,Object(c["l"])(t.form),1),Object(c["d"])("td",null,Object(c["l"])(t.expDate),1)],8,A)})),128))])],8,b)})),128))])])])}var P=n("5530"),k=n("1da1"),S=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("caad"),n("2532"),n("4de4"),n("d81d"),{name:"MedicalList",data:function(){return{patientFilterKey:"all",patientsWithMeds:[],unMutatedPatientsMeds:[],itemRefs:[]}},mounted:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Promise.all([fetch("https://cerber.pixel.com.pl/api/patients").then((function(t){return t.json()})),fetch("https://cerber.pixel.com.pl/api/medicine").then((function(t){return t.json()}))]).then((function(e){var n=e[0],c=e[1],i=[];t.patientsWithMeds=i,n.forEach((function(t){var e=[];c.forEach((function(n){n.patientIds.includes(t.id)&&e.push(n)})),i.push(Object(P["a"])(Object(P["a"])({},t),{},{medicine:e})),e=[]}))})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},methods:{setItemRef:function(t){t&&this.itemRefs.push(t)}},beforeUpdate:function(){this.itemRefs=[]},updated:function(){},computed:{patientFilter:function(){return this[this.patientFilterKey]},all:function(){return this.patientsWithMeds},age:function(){return this.patientsWithMeds.filter((function(t){return t.age>30}))},ageStr:function(){var t=this.patientsWithMeds.filter((function(t){return t.age>63}));return t.map((function(t){var e=t.medicine.filter((function(t){return t.strength>8}));if(0!==e.length)return Object(P["a"])(Object(P["a"])({},t),{},{medicine:e});if(0===e.length){var n=[{id:"N/A",medicationName:"N/A",unit:"N/A",strength:"N/A",form:"N/A",expDate:"N/A"}];return Object(P["a"])(Object(P["a"])({},t),{},{medicine:n})}}))}}}),R=(n("dd61"),n("6b0d")),K=n.n(R);const E=K()(S,[["render",N],["__scopeId","data-v-30a3efe5"]]);var I=E,L={name:"App",components:{MedicalList:I}};n("0123");const T=K()(L,[["render",i]]);var W=T;Object(c["b"])(W).mount("#app")},9241:function(t,e,n){},dd61:function(t,e,n){"use strict";n("0254")}});
//# sourceMappingURL=app.5f3e0e1a.js.map